<!-- Menú de navegación (reutilizado) -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <div class="container">
    <a class="navbar-brand" href="#" routerLink="/pages/home">
      <i class="fas fa-users me-2"></i>
      Gestión Usuarios Angular
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" routerLink="/pages/home" routerLinkActive="active">
            <i class="fas fa-home me-1"></i>Inicio
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" onclick="alert('Componente desarrollado por Erika')">
            <i class="fas fa-user me-1"></i>Perfil
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" onclick="alert('Componente desarrollado por Erika')">
            <i class="fas fa-code me-1"></i>Estructuras
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" onclick="alert('Componente desarrollado por Erika')">
            <i class="fas fa-book me-1"></i>Documentación
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/pages/usuarios" routerLinkActive="active">
            <i class="fas fa-users me-1"></i>Usuarios
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Contenido principal -->
<div class="container-fluid main-content">
  <div class="container">

    <!-- Header de la sección -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="header-section">
          <h1 class="display-5 fw-bold text-white mb-2">
            <i class="fas fa-users me-3"></i>Lista de Usuarios
          </h1>
          <p class="lead text-white-50 mb-3">
            Datos obtenidos desde JSONPlaceholder API
          </p>
          <button
            class="btn btn-outline-light"
            (click)="recargarUsuarios()"
            [disabled]="cargando">
            <i class="fas fa-sync-alt me-2" [class.fa-spin]="cargando"></i>
            {{ cargando ? 'Cargando...' : 'Recargar' }}
          </button>
        </div>
      </div>
    </div>

    <!-- Mensaje de carga -->
    <div class="row" *ngIf="cargando">
      <div class="col-12">
        <div class="loading-card text-center">
          <div class="spinner-container">
            <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
              <span class="visually-hidden">Cargando...</span>
            </div>
          </div>
          <h3 class="mt-3 text-primary">Cargando usuarios...</h3>
          <p class="text-muted">
            Obteniendo datos desde la API. Por favor, espera un momento.
          </p>
          <div class="progress mt-3" style="height: 8px;">
            <div class="progress-bar progress-bar-striped progress-bar-animated"
                 role="progressbar"
                 style="width: 100%">
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mensaje de error -->
    <div class="row" *ngIf="error && !cargando">
      <div class="col-12">
        <div class="alert alert-danger d-flex align-items-center" role="alert">
          <i class="fas fa-exclamation-triangle me-3"></i>
          <div>
            <strong>Error:</strong> {{ error }}
          </div>
        </div>
      </div>
    </div>

    <!-- Lista de usuarios -->
    <div class="row" *ngIf="!cargando && usuarios.length > 0">
      <div class="col-12 mb-3">
        <div class="info-banner">
          <i class="fas fa-info-circle me-2"></i>
          Se encontraron {{ usuarios.length }} usuarios
        </div>
      </div>

      <div class="col-lg-6 col-xl-4 mb-4" *ngFor="let usuario of usuarios; trackBy: trackByUserId">
        <div class="user-card">
          <div class="user-header">
            <div class="user-avatar">
              <i class="fas fa-user"></i>
            </div>
            <div class="user-basic-info">
              <h5 class="user-name">{{ usuario.name }}</h5>
              <p class="user-username text-muted">@{{ usuario.username }}</p>
            </div>
          </div>

          <div class="user-details">
            <div class="detail-item">
              <i class="fas fa-envelope text-primary me-2"></i>
              <span class="detail-label">Email:</span>
              <span class="detail-value">{{ usuario.email }}</span>
            </div>

            <div class="detail-item">
              <i class="fas fa-phone text-success me-2"></i>
              <span class="detail-label">Teléfono:</span>
              <span class="detail-value">{{ usuario.phone }}</span>
            </div>

            <div class="detail-item">
              <i class="fas fa-globe text-info me-2"></i>
              <span class="detail-label">Website:</span>
              <span class="detail-value">{{ usuario.website }}</span>
            </div>

            <div class="detail-item">
              <i class="fas fa-building text-warning me-2"></i>
              <span class="detail-label">Empresa:</span>
              <span class="detail-value">{{ usuario.company.name }}</span>
            </div>

            <div class="detail-item">
              <i class="fas fa-map-marker-alt text-danger me-2"></i>
              <span class="detail-label">Ciudad:</span>
              <span class="detail-value">{{ usuario.address.city }}</span>
            </div>
          </div>

          <div class="user-footer">
            <small class="text-muted">ID: {{ usuario.id }}</small>
          </div>
        </div>
      </div>
    </div>

    <!-- Mensaje cuando no hay usuarios -->
    <div class="row" *ngIf="!cargando && usuarios.length === 0 && !error">
      <div class="col-12">
        <div class="empty-state">
          <i class="fas fa-user-slash"></i>
          <h3>No hay usuarios disponibles</h3>
          <p>No se pudieron cargar los usuarios en este momento.</p>
          <button class="btn btn-primary" (click)="recargarUsuarios()">
            <i class="fas fa-retry me-2"></i>Intentar de nuevo
          </button>
        </div>
      </div>
    </div>

  </div>
</div>
